<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poisson Distribution Calculator</title>
</head>
<body>
    <h1>Poisson Distribution Calculator</h1>
    <p>This is a calculator for Poisson distribution originally created in Python.<br> To use it, enter a value in each of the first two text boxes and click the Calculate button.</p>
    <form id="poissonForm">
        <label for="proceedInput">Do you wish to use the calculator? (yes or no):</label>
        <input type="text" id="proceedInput" name="proceedInput">
        <br>
        <label for="randomVariableInput">Poisson random variable (x):</label>
        <input type="number" id="randomVariableInput" name="randomVariableInput">
        <br>
        <label for="rateOfSuccessInput">Average rate of success (μ):</label>
        <input type="number" id="rateOfSuccessInput" name="rateOfSuccessInput">
        <br>
        <label for="varInput">=, >, ≥, <, or ≤ for binomial or cumulative probability:</label>
        <input type="text" id="varInput" name="varInput">
        <br>
        <button type="button" onclick="calculate()">Calculate</button>
    </form>

    <script>
        function calculate() {
            var x = parseInt(document.getElementById('randomVariableInput').value);
            var μ = parseFloat(document.getElementById('rateOfSuccessInput').value);
            var varValue = document.getElementById('varInput').value;
            var p = 0;
            var a = x;

            var proceedValue = document.getElementById('proceedInput').value;

            while (proceedValue.toLowerCase() === "yes") {
                if (varValue !== "=") {
                    while (x > 0) {
                        p += (Math.pow(μ, x) / factorial(x) * Math.exp(-μ));
                        x -= 1;
                    }
                }

                if (varValue === ">") {
                    p = 1 - p;
                    console.log("Probability when x" + varValue + a + ": " + p);
                }

                if (varValue === "≥") {
                    p += (Math.pow(μ, a) / factorial(a) * Math.exp(-μ));
                    p = 1 - p;
                    console.log("Probability when x" + varValue + a + ": " + p);
                }

                if (varValue === "≤") {
                    p += (Math.pow(μ, 0) / factorial(0) * Math.exp(-μ));
                    console.log("Probability when x" + varValue + a + ": " + p);
                }

                if (varValue === "=") {
                    p = (Math.pow(μ, a) / factorial(a) * Math.exp(-μ));
                    console.log("Probability when x" + varValue + a + ": " + p);
                }

                proceedValue = prompt("Continue? (yes or no): ");

                if (proceedValue.toLowerCase() === "no") {
                    break;
                }

                varValue = prompt("=, >, ≥, <, or ≤ for binomial or cumulative probability: ");
            }
        }

        // Function to calculate factorial
        function factorial(n) {
            if (n === 0 || n === 1) {
                return 1;
            } else {
                return n * factorial(n - 1);
            }
        }
    </script>
</body>
</html>
